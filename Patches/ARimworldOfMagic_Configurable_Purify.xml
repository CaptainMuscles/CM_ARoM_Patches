<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>A RimWorld of Magic</li>
		</mods>
		<match Class="PatchOperationSequence">
		  <!--<success>Always</success>-->
		  <operations>
			<li Class="PatchOperationReplace">
			  <xpath>/Defs/TorannMagic.TMAbilityDef[defName="TM_Purify"]</xpath>
				<value>
				  <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
					<defName>TM_Purify</defName>
					<label>Purify</label>
					<uiIconPath>UI/purify</uiIconPath>
					<description>Invokes holy power to purify scars on the body, mind, and soul.</description>
					<manaCost>0.80</manaCost>
					<efficiencyReductionPercent>.06</efficiencyReductionPercent>
						<learnChance>.3</learnChance>
						<canCopy>true</canCopy>
					<MainVerb Class="CM_ARoM_Patches.VerbProperties_Purify">
						<verbClass>CM_ARoM_Patches.Verb_Purify_Configurable</verbClass>
							<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
							<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
							<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
							<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
						<hasStandardCommand>true</hasStandardCommand>
						<abilityDef>TM_Purify</abilityDef>
						<isViolent>false</isViolent>
						<defaultProjectile>TM_Projectile_Priest</defaultProjectile>
						<warmupTime>6</warmupTime>
						<SecondsToRecharge>600</SecondsToRecharge>
						<range>16</range>
						<soundCast>Message_PositiveEvent</soundCast>
						<muzzleFlashScale>30</muzzleFlashScale>
						<isPrimary>false</isPrimary>
						<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
						<targetParams>
						  <canTargetPawns>true</canTargetPawns>
						  <canTargetBuildings>false</canTargetBuildings>
						  <canTargetSelf>true</canTargetSelf>
						  <canTargetLocations>false</canTargetLocations>
						</targetParams>
						<healableHediffs>
						  <li>
							<hediffs>
							  <li>Cataract</li>
							  <li>HearingLoss</li>
							  <li>ToxicBuildup</li>
							</hediffs>
							<minLevel>0</minLevel>
							<baseAmount>0.4</baseAmount>
							<amountPerLevel>0.3</amountPerLevel>
						  </li>
						  <li>
							<hediffs>
							  <li>Asthma</li>
							</hediffs>
							<minLevel>1</minLevel>
							<baseAmount>10</baseAmount>
							<alsoRemoveOnFullHeal>Asthma</alsoRemoveOnFullHeal>
						  </li>
						  <li>
							<hediffs>
							  <li>Blindness</li>
							  <li>Cirrhosis</li>
							  <li>ChemicalDamageModerate</li>
							</hediffs>
							<minLevel>1</minLevel>
							<baseAmount>0.3</baseAmount>
							<amountPerLevel>0.2</amountPerLevel>
						  </li>
						  <li>
							<hediffs>
							  <li>Frail</li>
							  <li>BadBack</li>
							  <li>Carcinoma</li>
							  <li>ChemicalDamageSevere</li>
							</hediffs>
							<minLevel>2</minLevel>
							<baseAmount>0.25</baseAmount>
							<amountPerLevel>0.2</amountPerLevel>
						  </li>
						  <li>
							<hediffs>
							  <li>Alzheimers</li>
							  <li>Dementia</li>
							  <li>HeartArteryBlockage</li>
							  <li>PsychicShock</li>
							  <li>CatatonicBreakdown</li>
							</hediffs>
							<minLevel>3</minLevel>
							<baseAmount>0.15</baseAmount>
							<amountPerLevel>0.15</amountPerLevel>
						  </li>
						  <li>
							<hediffs>
							  <li>Abasia</li>
							</hediffs>
							<minLevel>3</minLevel>
							<isRemovalChance>true</isRemovalChance>
							<baseAmount>0.25</baseAmount>
							<amountPerLevel>0.05</amountPerLevel>
						  </li>
						  <li>
							<hediffs>
							  <li>AlcoholAddiction</li>
							  <li>SmokeleafAddiction</li>
							</hediffs>
							<minLevel>0</minLevel>
							<baseAmount>0.3</baseAmount>
							<amountPerLevel>0.3</amountPerLevel>
							<useArcaneDamage>true</useArcaneDamage>
						  </li>
						  <li>
							<hediffs>
							  <li>GoJuiceAddiction</li>
							  <li>WakeUpAddiction</li>
							</hediffs>
							<minLevel>1</minLevel>
							<baseAmount>0.25</baseAmount>
							<amountPerLevel>0.25</amountPerLevel>
							<useArcaneDamage>true</useArcaneDamage>
						  </li>
						  <li>
							<hediffs>
							  <li>PsychiteAddiction</li>
							</hediffs>
							<minLevel>2</minLevel>
							<baseAmount>0.25</baseAmount>
							<amountPerLevel>0.25</amountPerLevel>
							<useArcaneDamage>true</useArcaneDamage>
						  </li>
						  <li>
							<hediffs>
							  <li>LuciferiumAddiction</li>
							</hediffs>
							<minLevel>3</minLevel>
							<baseAmount>0.15</baseAmount>
							<amountPerLevel>0.15</amountPerLevel>
							<useArcaneDamage>true</useArcaneDamage>
							<alsoRemoveOnFullHeal>LuciferiumHigh</alsoRemoveOnFullHeal>
						  </li>
						</healableHediffs>
					</MainVerb>
				  </TorannMagic.TMAbilityDef>
				</value>
			</li>
		  </operations>
		</match>
	</Operation>

</Patch>

